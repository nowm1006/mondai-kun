var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function c(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(n,e,o){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(e,o))}function l(t,n,e){return t.set(e),n}function u(t,n){t.appendChild(n)}function i(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function p(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function $(t,n){t.value=null==n?"":n}function b(t,n){for(let e=0;e<t.options.length;e+=1){const o=t.options[e];if(o.__value===n)return void(o.selected=!0)}t.selectedIndex=-1}let v;function k(t){v=t}function w(){if(!v)throw new Error("Function called outside component initialization");return v}const y=[],x=[],_=[],E=[],S=Promise.resolve();let C=!1;function z(t){_.push(t)}const T=new Set;let N=0;function j(){const t=v;do{for(;N<y.length;){const t=y[N];N++,k(t),I(t.$$)}for(k(null),y.length=0,N=0;x.length;)x.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];T.has(n)||(T.add(n),n())}_.length=0}while(y.length);for(;E.length;)E.pop()();C=!1,T.clear(),k(t)}function I(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(z)}}const H=new Set;let L;function q(){L={r:0,c:[],p:L}}function A(){L.r||o(L.c),L=L.p}function M(t,n){t&&t.i&&(H.delete(t),t.i(n))}function O(t,n,e,o){if(t&&t.o){if(H.has(t))return;H.add(t),L.c.push((()=>{H.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function U(t,n){t.d(1),n.delete(t.key)}function F(t){t&&t.c()}function K(t,e,r,s){const{fragment:l,on_mount:u,on_destroy:i,after_update:a}=t.$$;l&&l.m(e,r),s||z((()=>{const e=u.map(n).filter(c);i?i.push(...e):o(e),t.$$.on_mount=[]})),a.forEach(z)}function D(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function G(t,n){-1===t.$$.dirty[0]&&(y.push(t),C||(C=!0,S.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Q(n,c,r,s,l,u,i,f=[-1]){const d=v;k(n);const h=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:l,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(d?d.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:c.target||d.$$.root};i&&i(h.root);let p=!1;if(h.ctx=r?r(n,c.props||{},((t,e,...o)=>{const c=o.length?o[0]:e;return h.ctx&&l(h.ctx[t],h.ctx[t]=c)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](c),p&&G(n,t)),e})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);h.fragment&&h.fragment.l(t),t.forEach(a)}else h.fragment&&h.fragment.c();c.intro&&M(n.$$.fragment),K(n,c.target,c.anchor,c.customElement),j()}k(d)}class B{$destroy(){D(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const J=[];function P(n,e=t){let o;const c=new Set;function s(t){if(r(n,t)&&(n=t,o)){const t=!J.length;for(const t of c)t[1](),J.push(t,n);if(t){for(let t=0;t<J.length;t+=2)J[t][0](J[t+1]);J.length=0}}}return{set:s,update:function(t){s(t(n))},subscribe:function(r,l=t){const u=[r,l];return c.add(u),1===c.size&&(o=e(s)||t),r(n),()=>{c.delete(u),0===c.size&&(o(),o=null)}}}}const R=P("TITLE"),V=P(""),W=P(2);function Y(t,n,e){const o=t.slice();return o[8]=n[e],o}function Z(n){return{c:t,m:t,p:t,d:t}}function X(t){let n,e,o,c=[],r=new Map,s=t[7];const l=t=>t[8];for(let n=0;n<s.length;n+=1){let e=Y(t,s,n),o=l(e);r.set(o,c[n]=tt(o,e))}return{c(){n=f("select");for(let t=0;t<c.length;t+=1)c[t].c();m(n,"id","course-select"),m(n,"class","svelte-1kwfotz"),void 0===t[0]&&z((()=>t[4].call(n)))},m(r,s){i(r,n,s);for(let t=0;t<c.length;t+=1)c[t].m(n,null);b(n,t[0]),e||(o=p(n,"change",t[4]),e=!0)},p(t,e){4&e&&(s=t[7],c=function(t,n,e,o,c,r,s,l,u,i,a,f){let d=t.length,h=r.length,p=d;const m={};for(;p--;)m[t[p].key]=p;const g=[],$=new Map,b=new Map;for(p=h;p--;){const t=f(c,r,p),l=e(t);let u=s.get(l);u?o&&u.p(t,n):(u=i(l,t),u.c()),$.set(l,g[p]=u),l in m&&b.set(l,Math.abs(p-m[l]))}const v=new Set,k=new Set;function w(t){M(t,1),t.m(l,a),s.set(t.key,t),a=t.first,h--}for(;d&&h;){const n=g[h-1],e=t[d-1],o=n.key,c=e.key;n===e?(a=n.first,d--,h--):$.has(c)?!s.has(o)||v.has(o)?w(n):k.has(c)?d--:b.get(o)>b.get(c)?(k.add(o),w(n)):(v.add(c),d--):(u(e,s),d--)}for(;d--;){const n=t[d];$.has(n.key)||u(n,s)}for(;h;)w(g[h-1]);return g}(c,e,l,1,t,s,r,n,U,tt,null,Y)),5&e&&b(n,t[0])},d(t){t&&a(n);for(let t=0;t<c.length;t+=1)c[t].d();e=!1,o()}}}function tt(t,n){let e,o,c,r=n[8]+"";return{key:t,first:null,c(){e=f("option"),o=d(r),e.__value=c=n[8],e.value=e.__value,this.first=e},m(t,n){i(t,e,n),u(e,o)},p(t,e){n=t},d(t){t&&a(e)}}}function nt(n){let e;return{c(){e=f("p"),e.textContent="Loading..."},m(t,n){i(t,e,n)},p:t,d(t){t&&a(e)}}}function et(n){let e,c,r,s,l,d,g,b,v,y,x,_,E,S,C={ctx:n,current:null,token:null,hasCatch:!1,pending:nt,then:X,catch:Z,value:7};return function(t,n){const e=n.token={};function o(t,o,c,r){if(n.token!==e)return;n.resolved=r;let s=n.ctx;void 0!==c&&(s=s.slice(),s[c]=r);const l=t&&(n.current=t)(s);let u=!1;n.block&&(n.blocks?n.blocks.forEach(((t,e)=>{e!==o&&t&&(q(),O(t,1,1,(()=>{n.blocks[e]===t&&(n.blocks[e]=null)})),A())})):n.block.d(1),l.c(),M(l,1),l.m(n.mount(),n.anchor),u=!0),n.block=l,n.blocks&&(n.blocks[o]=l),u&&j()}if((c=t)&&"object"==typeof c&&"function"==typeof c.then){const e=w();if(t.then((t=>{k(e),o(n.then,1,n.value,t),k(null)}),(t=>{if(k(e),o(n.catch,2,n.error,t),k(null),!n.hasCatch)throw t})),n.current!==n.pending)return o(n.pending,0),!0}else{if(n.current!==n.then)return o(n.then,1,n.value,t),!0;n.resolved=t}var c}(n[2](),C),{c(){e=f("div"),c=f("div"),c.innerHTML='<h1 class="title svelte-1kwfotz">問題くん</h1>',r=h(),s=f("div"),l=f("button"),l.textContent="スタート",d=h(),g=f("div"),C.block.c(),b=h(),v=f("div"),y=f("label"),y.textContent="待ち時間(秒)",x=h(),_=f("input"),m(c,"class","center svelte-1kwfotz"),m(s,"class","center svelte-1kwfotz"),m(y,"id","timer-label"),m(y,"for","timer"),m(y,"class","svelte-1kwfotz"),m(_,"id","timer"),m(_,"type","text"),m(_,"class","svelte-1kwfotz"),m(g,"class","center column svelte-1kwfotz"),m(e,"class","container svelte-1kwfotz")},m(t,o){i(t,e,o),u(e,c),u(e,r),u(e,s),u(s,l),u(e,d),u(e,g),C.block.m(g,C.anchor=null),C.mount=()=>g,C.anchor=b,u(g,b),u(g,v),u(v,y),u(v,x),u(v,_),$(_,n[1]),E||(S=[p(l,"click",n[3]),p(_,"input",n[5])],E=!0)},p(t,[e]){(function(t,n,e){const o=n.slice(),{resolved:c}=t;t.current===t.then&&(o[t.value]=c),t.current===t.catch&&(o[t.error]=c),t.block.p(o,e)})(C,n=t,e),2&e&&_.value!==n[1]&&$(_,n[1])},i:t,o:t,d(t){t&&a(e),C.block.d(),C.token=null,C=null,E=!1,o(S)}}}function ot(t,n,e){let o,c,r;s(t,R,(t=>e(6,o=t))),s(t,V,(t=>e(0,c=t))),s(t,W,(t=>e(1,r=t)));const u=async()=>{const t=await fetch("https://script.google.com/macros/s/AKfycbyvHc6mRDa0coil3Qj8b4m9Kql44UJp1VkocBf-6ZrkCH0_ex8FHiWSzq7d-r2mbFY5/exec");return await t.json()};return[c,r,u,()=>{c?l(R,o="QUESTION",o):window.alert("問題を選んでください。")},function(){c=function(t){const n=t.querySelector(":checked")||t.options[0];return n&&n.__value}(this),V.set(c),e(2,u)},function(){r=this.value,W.set(r)}]}class ct extends B{constructor(t){super(),Q(this,t,ot,et,r,{})}}function rt(t){let n,e,o=(t[0].answer?t[0].answer:"")+"";return{c(){n=f("h1"),e=d(o)},m(t,o){i(t,n,o),u(n,e)},p(t,n){1&n&&o!==(o=(t[0].answer?t[0].answer:"")+"")&&g(e,o)},d(t){t&&a(n)}}}function st(n){let e,c,r,s,l,$,b,v,k,w,y,x,_,E=(n[0].word?n[0].word:"読み込み中...")+"",S=n[1]&&rt(n);return{c(){var t,n,o;e=f("div"),c=f("div"),r=f("h1"),s=d(E),l=h(),$=f("div"),S&&S.c(),b=h(),v=f("div"),k=f("button"),k.textContent="OK",w=h(),y=f("button"),y.textContent="NG",m(c,"class","word center svelte-12x4msn"),m($,"class","answer center svelte-12x4msn"),t="background-color",n="red",y.style.setProperty(t,n,o?"important":""),m(v,"class","thumbs center svelte-12x4msn"),m(e,"class","container svelte-12x4msn")},m(t,o){i(t,e,o),u(e,c),u(c,r),u(r,s),u(e,l),u(e,$),S&&S.m($,null),u(e,b),u(e,v),u(v,k),u(v,w),u(v,y),x||(_=[p(k,"click",n[3]),p(y,"click",n[2])],x=!0)},p(t,[n]){1&n&&E!==(E=(t[0].word?t[0].word:"読み込み中...")+"")&&g(s,E),t[1]?S?S.p(t,n):(S=rt(t),S.c(),S.m($,null)):S&&(S.d(1),S=null)},i:t,o:t,d(t){t&&a(e),S&&S.d(),x=!1,o(_)}}}function lt(t,n,e){let o,c,r;s(t,V,(t=>e(6,o=t))),s(t,W,(t=>e(7,c=t))),s(t,R,(t=>e(8,r=t)));let u=[],i={word:"",answer:""},a=!1;const f=async()=>{e(1,a=!1),e(0,i=u.pop()),i||(e(0,i={word:"Good Job!",answer:"よくできました"}),l(R,r="ENDING",r));let t=new SpeechSynthesisUtterance;var n;t.lang="en-US",t.text=i.word,speechSynthesis.speak(t),await(n=c,new Promise((t=>setTimeout(t,1e3*n)))),e(1,a=!0)};var d;return d=async()=>{const t=await fetch(`https://script.google.com/macros/s/AKfycbyvHc6mRDa0coil3Qj8b4m9Kql44UJp1VkocBf-6ZrkCH0_ex8FHiWSzq7d-r2mbFY5/exec?key=${o}`),n=await t.json();u=n,f()},w().$$.on_mount.push(d),[i,a,()=>{u=[i,...u],f()},f]}class ut extends B{constructor(t){super(),Q(this,t,lt,st,r,{})}}function it(n){let e,o,c,r,s,l;return{c(){e=f("div"),o=f("h1"),o.textContent="よくできました",c=h(),r=f("button"),r.textContent="もう一度",m(o,"class","svelte-1pfba7"),m(e,"class","container svelte-1pfba7")},m(t,a){i(t,e,a),u(e,o),u(e,c),u(e,r),s||(l=p(r,"click",n[0]),s=!0)},p:t,i:t,o:t,d(t){t&&a(e),s=!1,l()}}}function at(t,n,e){let o;s(t,R,(t=>e(1,o=t)));return[()=>{l(R,o="TITLE",o)}]}class ft extends B{constructor(t){super(),Q(this,t,at,it,r,{})}}function dt(n){let e;return{c(){e=f("p"),e.textContent="Something wrong"},m(t,n){i(t,e,n)},i:t,o:t,d(t){t&&a(e)}}}function ht(t){let n,e;return n=new ft({}),{c(){F(n.$$.fragment)},m(t,o){K(n,t,o),e=!0},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){O(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function pt(t){let n,e;return n=new ut({}),{c(){F(n.$$.fragment)},m(t,o){K(n,t,o),e=!0},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){O(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function mt(t){let n,e;return n=new ct({}),{c(){F(n.$$.fragment)},m(t,o){K(n,t,o),e=!0},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){O(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function gt(t){let n,e,o,c;const r=[mt,pt,ht,dt],s=[];function l(t,n){return"TITLE"===t[0]?0:"QUESTION"===t[0]?1:"ENDING"===t[0]?2:3}return e=l(t),o=s[e]=r[e](t),{c(){n=f("main"),o.c(),m(n,"class","svelte-16x80ep")},m(t,o){i(t,n,o),s[e].m(n,null),c=!0},p(t,[c]){let u=e;e=l(t),e!==u&&(q(),O(s[u],1,1,(()=>{s[u]=null})),A(),o=s[e],o||(o=s[e]=r[e](t),o.c()),M(o,1),o.m(n,null))},i(t){c||(M(o),c=!0)},o(t){O(o),c=!1},d(t){t&&a(n),s[e].d()}}}function $t(t,n,e){let o;return s(t,R,(t=>e(0,o=t))),[o]}return new class extends B{constructor(t){super(),Q(this,t,$t,gt,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
